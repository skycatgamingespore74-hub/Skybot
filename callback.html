<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Connexion r√©ussie - SkyBot</title>
        <link rel="stylesheet" href="style.css">
        </head>
        <body>
          <header>
              <h1>Connexion r√©ussie üéâ</h1>
                </header>

                  <div class="container" style="text-align:center;">
                      <p>Bienvenue sur SkyBot !</p>
                          <p id="userInfo">Chargement des informations Discord...</p>
                              <a class="btn" href="index.html">Retour √† l'accueil</a>
                                </div>

                                  <script>
                                      const params = new URLSearchParams(window.location.hash.slice(1));
                                          const token = params.get('access_token');
                                              if (token) {
                                                    fetch('https://discord.com/api/users/@me', {
                                                            headers: { Authorization: `Bearer ${token}` }
                                                                  })
                                                                        .then(res => res.json())
                                                                              .then(user => {
                                                                                      document.getElementById('userInfo').innerHTML =
                                                                                                `<div class="user-card">
                                                                                                             <img src="https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png" width="80" style="border-radius:50%; margin-bottom:10px;">
                                                                                                                          <h3>${user.username}#${user.discriminator}</h3>
                                                                                                                                     </div>`;
                                                                                                                                           })
                                                                                                                                                 .catch(() => document.getElementById('userInfo').textContent = "Erreur lors du chargement du profil Discord.");
                                                                                                                                                     } else {
                                                                                                                                                           document.getElementById('userInfo').textContent = "Aucun jeton d'acc√®s re√ßu.";
                                                                                                                                                               }
                                                                                                                                                                 </script>
                                                                                                                                                                 </body>
                                                                                                                                                                 </html>